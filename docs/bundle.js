(()=>{var e={902:e=>{e.exports="#version 300 es\nprecision highp float;\n\nuniform vec2 u_resolution;\nuniform sampler2D u_cameraTexture;\nuniform vec2 u_cameraResolution;\nuniform vec2 u_translation;\nuniform float u_scale;\nuniform vec3 u_circle1;\nuniform vec3 u_circle2;\nuniform vec2 u_cornerUpperRight;\n\nconst float GAMMA = 2.2;\nconst float DISPLAY_GAMMA_COEFF = 1. / GAMMA;\nvec4 gammaCorrect(vec4 rgba) {\n    return vec4((min(pow(rgba.r, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.g, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.b, DISPLAY_GAMMA_COEFF), 1.)),\n                rgba.a);\n}\n\nvec4 deGamma(vec4 rgba) {\n    return vec4((min(pow(rgba.r, GAMMA), 1.)),\n                (min(pow(rgba.g, GAMMA), 1.)),\n                (min(pow(rgba.b, GAMMA), 1.)),\n                rgba.a);\n}\n\n\nvec3 hsv2rgb(const float h, const float s, const float v){\n    vec3 c = vec3(h, s, v);\n    const vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n// from Syntopia http://blog.hvidtfeldts.net/index.php/2015/01/path-tracing-3d-fractals/\nvec2 rand2n(const vec2 co, const float sampleIndex) {\n    vec2 seed = co * (sampleIndex + 1.0);\n    seed+=vec2(-1,1);\n    // implementation based on: lumina.sourceforge.net/Tutorials/Noise.html\n    return vec2(fract(sin(dot(seed.xy ,vec2(12.9898,78.233))) * 43758.5453),\n                fract(cos(dot(seed.xy ,vec2(4.898,7.23))) * 23421.631));\n}\n\nvec2 circleInversion(const vec2 pos, const vec3 circle){\n    vec2 p = pos - circle.xy;\n    float d = length(p);\n    return (p * circle.z * circle.z)/(d * d) + circle.xy;\n}\n\nconst int MAX_ITERATIONS = 20;\nvec2 iis(vec2 pos, out bool isOuter) {\n    int numInversions = 0;\n    vec3 c3 = vec3(-u_circle1.xy, u_circle1.z);\n    vec3 c4 = vec3(-u_circle2.xy, u_circle2.z);\n    isOuter = false;\n\n    float x = 0.57735;\n    bool revC2 = false;\n    if(x > u_circle2.x){\n        revC2 = true;\n    }\n    for(int i = 0 ; i < MAX_ITERATIONS ; i++){\n        bool loopEnd = true;\n        if(distance(pos, c3.xy) < c3.z) {\n            pos = circleInversion(pos, c3);\n            loopEnd = false;\n            numInversions++;\n        } else if (distance(pos, u_circle1.xy) < u_circle1.z) {\n            pos = circleInversion(pos, u_circle1);\n            loopEnd = false;\n            numInversions++;\n        }\n        if(revC2) {\n            if (distance(pos, u_circle2.xy) > u_circle2.z) {\n                pos = circleInversion(pos, u_circle2);\n                loopEnd = false;\n                numInversions++;\n            }\n            if (distance(pos, c4.xy) > c4.z) {\n                pos = circleInversion(pos, c4);\n                loopEnd = false;\n                numInversions++;\n            }       \n        } else {\n            if (distance(pos, u_circle2.xy) < u_circle2.z) {\n                pos = circleInversion(pos, u_circle2);\n                loopEnd = false;\n                numInversions++;\n            }\n            if (distance(pos, c4.xy) < c4.z) {\n                pos = circleInversion(pos, c4);\n                loopEnd = false;\n                numInversions++;\n            }    \n        }\n\n        if(loopEnd) break;\n    }\n    if(length(pos) > 1.5) {\n        isOuter = true;\n    }\n    return pos;\n}\n\nconst float MAX_SAMPLES = 100.;\nout vec4 outColor;\nvoid main() {\n    vec4 sum = vec4(0);\n    float ratio = u_resolution.x / u_resolution.y / 2.0;\n    vec2 cornerLowerLeft = -u_cornerUpperRight;\n    vec2 tileSize = u_cornerUpperRight - cornerLowerLeft;\n    //  sum = texture(u_cameraTexture, abs((position - cornerLowerLeft) / size));\n    float cameraAspect = u_cameraResolution.y / u_cameraResolution.x;\n    float tileAspect = tileSize.y / tileSize.x;\n    vec2 cameraSizeOnScreen;\n    vec2 offset;\n    if(tileAspect >= cameraAspect) {\n        // 幅を1としてときにタイルの方が高さが大きい\n        // 横方向をクリップ\n        //cameraWidth = u_cameraResolution.x * (tileSize.x / tileSize.y);\n        //cameraHeight = u_cameraResolution.y;\n        //offsetX = (u_cameraResolution.x - cameraWidth) / 2.;\n        cameraSizeOnScreen = vec2(tileSize.y * (u_cameraResolution.x / u_cameraResolution.y), tileSize.y);\n        offset = vec2((cameraSizeOnScreen.x - tileSize.x) * 0.5, 0);\n    } else {\n        // 幅を1としてときに画像の方が高さが大きい\n        // 縦方向でクリップ\n        //cameraWidth = u_cameraResolution.x;\n        //cameraHeight = u_cameraResolution.x * tileAspect;\n        //offsetY = (u_cameraResolution.y - cameraHeight) / 2.;\n        cameraSizeOnScreen = vec2(tileSize.x, tileSize.x * (u_cameraResolution.y / u_cameraResolution.x));\n        offset = vec2(0, (cameraSizeOnScreen.y - tileSize.y) * 0.5);\n    }\n    for(float i = 0.; i < MAX_SAMPLES; i++){\n        vec2 position = ((gl_FragCoord.xy + rand2n(gl_FragCoord.xy, i)) / u_resolution.yy ) - vec2(ratio, 0.5);\n        position = position * u_scale;\n        position += u_translation;\n\n        // if(distance(position, u_circle1.xy) < u_circle1.z) {\n        //     sum += vec4(1, 0, 0, 1);\n        //     continue;\n        // }\n        // if(distance(position, u_circle2.xy) < u_circle2.z) {\n        //     sum += vec4(1, 0, 0, 1);\n        //     continue;\n        // }\n        \n        //sum += texture(u_cameraTexture, gl_FragCoord.xy / u_cameraResolution);\n\n        vec2 cornerLowerLeft = -u_cornerUpperRight;\n        vec2 tileSize = u_cornerUpperRight - cornerLowerLeft;\n        //  sum = texture(u_cameraTexture, abs((position - cornerLowerLeft) / size));\n        float cameraAspect = u_cameraResolution.y / u_cameraResolution.x;\n        float tileAspect = tileSize.y / tileSize.x;\n        bool isOuter;\n        vec2 pos = iis(position, isOuter);\n        if(isOuter) {\n            sum += vec4(0, 0, 0, 1);\n        } else {\n            vec2 uv = 1.0 - ((pos - cornerLowerLeft + offset) / cameraSizeOnScreen);\n            //sum += vec4(uv, 0, 1);\n            sum += texture(u_cameraTexture, uv);\n        }\n    }\n    \n    outColor = sum / MAX_SAMPLES;\n}\n"},228:e=>{e.exports="#version 300 es\n\nin vec2 a_vertex;\nout vec2 v_texCoord;\n\nvoid main() {\n    v_texCoord = a_vertex.xy * 0.5 + 0.5;\n    gl_Position = vec4(a_vertex, 0., 1.0);\n}\n"}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}(()=>{"use strict";class e{constructor(){}static GetWebGL2Context(e){return e.getContext("webgl2")||(console.log("WebGL 2.0 is not supported on this device or browser! Please use another browser or device."),void alert("WebGL 2.0 is not supported on this device or browser! Please use another browser or device."))}static CreateStaticVbo(e,t){const i=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),i}static CreateSquareVbo(t){return e.CreateStaticVbo(t,e.SQUARE)}static LinkProgram(e,t){if(e.linkProgram(t),!1===e.getProgramParameter(t,e.LINK_STATUS)){const i=e.getProgramInfoLog(t);console.log(`Link Program Error\n${i}`)}e.useProgram(t)}static AttachShader(e,t,i,n){const r=e.createShader(n);e.shaderSource(r,t),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.log(`Shader Compilation Error\n${e.getShaderInfoLog(r)}`),e.attachShader(i,r)}static CreateTexture(e,t,i,n,r,s){const o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,n,t,i,0,r,s,null),e.bindTexture(e.TEXTURE_2D,null),o}static CreateRGBTexture(t,i,n,r){return e.CreateTexture(t,i,n,t.RGB,t.RGB,r)}static CreateRGBUnsignedByteTexture(t,i,n){return e.CreateRGBTexture(t,i,n,t.UNSIGNED_BYTE)}static CreateRGBFloatTexture(t,i,n){return e.CreateRGBTexture(t,i,n,t.FLOAT)}static CreateRGBUnsignedByteTextures(t,i,n,r){const s=[];for(let o=0;o<r;o++)s.push(e.CreateRGBUnsignedByteTexture(t,i,n));return s}static CreateRGBAUnsignedByteTexture(t,i,n){return e.CreateTexture(t,i,n,t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}static CreateRGBAUnsignedByteImageTexture(e,t,i,n){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null),r}static CreateRGBAUnsignedByteTextures(t,i,n,r){const s=[];for(let o=0;o<r;o++)s.push(e.CreateRGBAUnsignedByteTexture(t,i,n));return s}static CreateRGBAFloatTexture(t,i,n){return e.CreateTexture(t,i,n,t.RGBA16F,t.RGBA,t.FLOAT)}static CreateRGBAFloatTextures(t,i,n,r){const s=[];for(let o=0;o<r;o++)s.push(e.CreateRGBAFloatTexture(t,i,n));return s}static get SQUARE(){return[-1,-1,-1,1,1,-1,1,1]}}const t=i(228),n=i(902);class r{uniLocations;constructor(e){this.canvas=e,this.isRendering=!1}initialize(){this.gl=e.GetWebGL2Context(this.canvas),this.vertexBuffer=e.CreateSquareVbo(this.gl),this.renderProgram=this.gl.createProgram(),e.AttachShader(this.gl,t,this.renderProgram,this.gl.VERTEX_SHADER),e.AttachShader(this.gl,n,this.renderProgram,this.gl.FRAGMENT_SHADER),e.LinkProgram(this.gl,this.renderProgram),this.renderVAttrib=this.gl.getAttribLocation(this.renderProgram,"a_vertex"),this.gl.enableVertexAttribArray(this.renderVAttrib),this.initializeUniormLocations()}initializeUniormLocations(){this.uniLocations=[],this.uniLocations.push(this.gl.getUniformLocation(this.renderProgram,"u_resolution"))}setUniformValues(e,t){let i=0;this.gl.uniform2f(this.uniLocations[i++],e,t)}render(e){this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.useProgram(this.renderProgram),this.setUniformValues(this.canvas.width,this.canvas.height),e.setUniformValues(this.gl),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.vertexAttribPointer(this.renderVAttrib,2,this.gl.FLOAT,!1,0,0),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.flush()}}class s{video;isPlayingVideo;texture;width;height;constructor(){this.video=document.createElement("video"),this.isPlaying=!1}connectToCamera(t){navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((i=>{this.video=document.createElement("video"),this.video.srcObject=i;const n=()=>{this.video.play(),this.isPlayingVideo=!0,this.width=this.video.videoWidth,this.height=this.video.videoHeight,this.texture=e.CreateRGBUnsignedByteTextures(t,this.video.videoWidth,this.video.videoHeight,1)[0],this.video.removeEventListener("canplay",n)};this.video.addEventListener("canplay",n)}),(e=>{console.error(e)})):console.error("getUserMedia is not supported.")}updateTexture(e){this.isPlayingVideo&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.video)}}class o{x;y;constructor(e,t){this.x=e,this.y=t}add(e){return new o(this.x+e.x,this.y+e.y)}sub(e){return new o(this.x-e.x,this.y-e.y)}prod(e){return new o(this.x*e.x,this.y*e.y)}div(e){return new o(this.x/e.x,this.y/e.y)}scale(e){return new o(this.x*e,this.y*e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSq(){return this.x*this.x+this.y*this.y}normalize(){return this.scale(1/this.length())}eq(e){return Math.abs(this.x-e.x)<=o.EPSILON&&Math.abs(this.y-e.y)<=o.EPSILON}cloneDeeply(){return new o(this.x,this.y)}static normalize(e){return e.normalize()}static dot(e,t){return e.x*t.x+e.y*t.y}static distance(e,t){const i=e.sub(t);return Math.sqrt(i.x*i.x+i.y*i.y)}static get EPSILON(){return 1e-5}getUniformArray(){return[this.x,this.y]}get xx(){return new o(this.x,this.x)}get yy(){return new o(this.y,this.y)}get xy(){return new o(this.x,this.y)}get yx(){return new o(this.y,this.x)}}class c{x;y;z;constructor(e,t,i){this.x=e,this.y=t,this.z=i}add(e){return new c(this.x+e.x,this.y+e.y,this.z+e.z)}sub(e){return new c(this.x-e.x,this.y-e.y,this.z-e.z)}prod(e){return new c(this.x*e.x,this.y*e.y,this.z*e.z)}div(e){return new c(this.x/e.x,this.y/e.y,this.z/e.z)}scale(e){return new c(this.x*e,this.y*e,this.z*e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.scale(1/this.length())}static normalize(e){return e.normalize()}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static cross(e,t){return new c(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)}static distance(e,t){const i=e.sub(t);return Math.sqrt(i.x*i.x+i.y*i.y)}rotateAroundX(e){const t=Math.cos(e),i=Math.sin(e);return new c(this.x,t*this.y+-i*this.z,i*this.y+t*this.z)}rotateAroundY(e){const t=Math.cos(e),i=Math.sin(e);return new c(t*this.x+i*this.z,this.y,-i*this.x+t*this.z)}rotateAroundZ(e){const t=Math.cos(e),i=Math.sin(e);return new c(t*this.x-i*this.y,i*this.x+t*this.y,this.z)}}class a{center;r;constructor(e,t){this.center=e,this.r=t}invertOnPoint(e){const t=this.r*this.r,i=e.sub(this.center),n=i.lengthSq();return i.scale(t/n).add(this.center)}invertOnCircle(e){const t=e.r*Math.sqrt(2)/2,i=this.invertOnPoint(e.center.add(new o(t,t))),n=this.invertOnPoint(e.center.add(new o(-t,-t))),r=this.invertOnPoint(e.center.add(new o(t,-t)));return a.fromPoints(i,n,r)}static getIntersection(e,t){const i=e.center.sub(t.center),n=o.dot(i,i),r=(n+t.r*t.r-e.r*e.r)/2,s=r*r;if(n*t.r*t.r-s<0)throw new Error("Unable to compute intersections");const c=Math.sqrt(n*t.r*t.r-s);return[new o((r*i.x+i.y*c)/n+t.center.x,(r*i.y-i.x*c)/n+t.center.y),new o((r*i.x-i.y*c)/n+t.center.x,(r*i.y+i.x*c)/n+t.center.y)]}static fromPoints(e,t,i){const n=o.distance(t,i),r=o.distance(e,i),s=o.distance(e,t),c=n*n*(r*r+s*s-n*n),h=r*r*(n*n+s*s-r*r),u=s*s*(n*n+r*r-s*s),l=c+h+u,x=new o((c*e.x+h*t.x+u*i.x)/l,(c*e.y+h*t.y+u*i.y)/l),d=o.distance(x,e);return new a(x,d)}}class h{constructor(){}static project(e){const t=o.dot(e,e);return new c(2*e.x/(1+t),2*e.y/(1+t),(-1+t)/(1+t))}static reverseProject(e){return new o(e.x/(1-e.z),e.y/(1-e.z))}}class u{isect1;isect2;corner;bendX=0;bendY=0;constructor(){this.circle1=new a(new o(1.2631,0),.771643),this.circle2=new a(new o(0,1.2631),.771643),this.compute()}compute(){this.x=.57735,this.y=.57735;const e=[1,0,0,0,Math.cos(this.bendX),Math.sin(this.bendX),0,Math.sin(this.bendX),Math.cos(this.bendX)],t=[Math.cos(this.bendY),0,Math.sin(this.bendY),0,1,0,-Math.sin(this.bendY),0,Math.cos(this.bendY)];if(this.c1=this.computeCircleFromUpperAndLower(this.applyMat3(e,new c(0,this.y,Math.sqrt(1-this.y*this.y))),this.applyMat3(e,new c(0,this.y,-Math.sqrt(1-this.y*this.y)))),this.c2=this.computeCircleFromUpperAndLower(this.applyMat3(t,new c(this.x,0,Math.sqrt(1-this.x*this.x))),this.applyMat3(t,new c(this.x,0,-Math.sqrt(1-this.x*this.x)))),[this.isect1,this.isect2]=a.getIntersection(this.c1,this.c2),this.isect1.x>this.isect2.x){const e=new o(this.isect1.x,this.isect1.y);this.isect1=this.isect2,this.isect2=e}console.log(this.c1,this.c2),this.corner=this.isect1.length()<this.isect2.length()?this.isect1:this.isect2,console.log(this.isect1,this.isect2,this.corner)}computeCircleFromUpperAndLower(e,t){const i=h.reverseProject(e),n=h.reverseProject(t);return new a(i.add(n).scale(.5),.5*o.distance(i,n))}applyMat3(e,t){return new c(t.x*e[0]+t.y*e[1]+t.z*e[2],t.x*e[3]+t.y*e[4]+t.z*e[5],t.x*e[6]+t.y*e[7]+t.z*e[8])}}class l{constructor(){this.uniLocations=[],this.cameraTexture=new s,this.hyperbolicTessellation=new u,this.translation=new o(0,0),this.scale=4.5}initialize(e,t){this.gl=e,this.cameraTexture.connectToCamera(e),this.uniLocations=[],this.uniLocations.push(e.getUniformLocation(t,"u_translation")),this.uniLocations.push(e.getUniformLocation(t,"u_scale")),this.uniLocations.push(e.getUniformLocation(t,"u_cameraTexture")),this.uniLocations.push(e.getUniformLocation(t,"u_cameraResolution")),this.uniLocations.push(e.getUniformLocation(t,"u_circle1")),this.uniLocations.push(e.getUniformLocation(t,"u_circle2")),this.uniLocations.push(e.getUniformLocation(t,"u_cornerUpperRight"))}animate(e){let t=e/100;const i=617;t=t%i*2,t>=i&&(t=i-(t-i)),this.hyperbolicTessellation.bendY=-t/1e3,this.hyperbolicTessellation.compute()}onUpdate(e){this.cameraTexture.updateTexture(e)}setUniformValues(e){let t=0;this.gl.uniform2f(this.uniLocations[t++],this.translation.x,this.translation.y),this.gl.uniform1f(this.uniLocations[t++],this.scale),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.cameraTexture.texture),this.gl.uniform1i(this.uniLocations[t++],0),this.gl.uniform2f(this.uniLocations[t++],this.cameraTexture.width,this.cameraTexture.height),this.gl.uniform3f(this.uniLocations[t++],this.hyperbolicTessellation.c1.center.x,this.hyperbolicTessellation.c1.center.y,this.hyperbolicTessellation.c1.r),this.gl.uniform3f(this.uniLocations[t++],this.hyperbolicTessellation.c2.center.x,this.hyperbolicTessellation.c2.center.y,this.hyperbolicTessellation.c2.r),this.gl.uniform2f(this.uniLocations[t++],this.hyperbolicTessellation.corner.x,this.hyperbolicTessellation.corner.y)}}window.addEventListener("load",(()=>{const e=document.querySelector("#canvas"),t=()=>{const t=e.parentElement;e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.width=t.clientWidth,e.height=t.clientHeight};t();const i=new r(e),n=new l;i.initialize(),n.initialize(i.gl,i.renderProgram);const s=Date.now(),o=()=>{n.animate(Date.now()-s),n.onUpdate(i.gl),i.render(n),window.requestAnimationFrame(o)};o();let c=setTimeout(t,100);window.addEventListener("resize",(()=>{window.clearTimeout(c),window.setTimeout(t,500)}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUN4TyxFQUFPdU8sTUFBTWpNLE9BQVMrTCxFQUFPSSxhQUFlLEtBQzVDek8sRUFBT3FDLE1BQVFnTSxFQUFPRyxZQUN0QnhPLEVBQU9zQyxPQUFTK0wsRUFBT0ksWUFBWSxFQUV2Q0wsSUFDQSxNQUFNTSxFQUFXLElBQUkvSixFQUFTM0UsR0FDeEI2RixFQUFRLElBQUl1SCxFQUVsQnNCLEVBQVMzSixhQUNUYyxFQUFNZCxXQUFXMkosRUFBU3BPLEdBQUlvTyxFQUFTekosZUFFdkMsTUFBTTBKLEVBQVlDLEtBQUtDLE1BQ2pCakosRUFBUyxLQUNYQyxFQUFNMkgsUUFBUW9CLEtBQUtDLE1BQVFGLEdBQzNCOUksRUFBTStILFNBQVNjLEVBQVNwTyxJQUN4Qm9PLEVBQVM5SSxPQUFPQyxHQUNoQnFJLE9BQU9ZLHNCQUFzQmxKLEVBQU8sRUFFeENBLElBRUEsSUFBSW1KLEVBQWNDLFdBQVdaLEVBQWMsS0FDM0NGLE9BQU81RyxpQkFBaUIsVUFBVSxLQUM5QjRHLE9BQU9lLGFBQWFGLEdBQ3BCYixPQUFPYyxXQUFXWixFQUFjLElBQUksR0FDdEMsRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFkZXIvcmVuZGVyLmZyYWciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYWRlci9yZW5kZXIudmVydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jYW1lcmFUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL3NyYy92ZWMyLmpzIiwid2VicGFjazovLy8uL3NyYy92ZWMzLmpzIiwid2VicGFjazovLy8uL3NyYy9jaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0ZXJlb1Byb2plY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaHlwZXJib2xpY1Rlc3NlbGxhdGlvbkJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIiN2ZXJzaW9uIDMwMCBlc1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfY2FtZXJhVGV4dHVyZTtcXG51bmlmb3JtIHZlYzIgdV9jYW1lcmFSZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMiB1X3RyYW5zbGF0aW9uO1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZTtcXG51bmlmb3JtIHZlYzMgdV9jaXJjbGUxO1xcbnVuaWZvcm0gdmVjMyB1X2NpcmNsZTI7XFxudW5pZm9ybSB2ZWMyIHVfY29ybmVyVXBwZXJSaWdodDtcXG5cXG5jb25zdCBmbG9hdCBHQU1NQSA9IDIuMjtcXG5jb25zdCBmbG9hdCBESVNQTEFZX0dBTU1BX0NPRUZGID0gMS4gLyBHQU1NQTtcXG52ZWM0IGdhbW1hQ29ycmVjdCh2ZWM0IHJnYmEpIHtcXG4gICAgcmV0dXJuIHZlYzQoKG1pbihwb3cocmdiYS5yLCBESVNQTEFZX0dBTU1BX0NPRUZGKSwgMS4pKSxcXG4gICAgICAgICAgICAgICAgKG1pbihwb3cocmdiYS5nLCBESVNQTEFZX0dBTU1BX0NPRUZGKSwgMS4pKSxcXG4gICAgICAgICAgICAgICAgKG1pbihwb3cocmdiYS5iLCBESVNQTEFZX0dBTU1BX0NPRUZGKSwgMS4pKSxcXG4gICAgICAgICAgICAgICAgcmdiYS5hKTtcXG59XFxuXFxudmVjNCBkZUdhbW1hKHZlYzQgcmdiYSkge1xcbiAgICByZXR1cm4gdmVjNCgobWluKHBvdyhyZ2JhLnIsIEdBTU1BKSwgMS4pKSxcXG4gICAgICAgICAgICAgICAgKG1pbihwb3cocmdiYS5nLCBHQU1NQSksIDEuKSksXFxuICAgICAgICAgICAgICAgIChtaW4ocG93KHJnYmEuYiwgR0FNTUEpLCAxLikpLFxcbiAgICAgICAgICAgICAgICByZ2JhLmEpO1xcbn1cXG5cXG5cXG52ZWMzIGhzdjJyZ2IoY29uc3QgZmxvYXQgaCwgY29uc3QgZmxvYXQgcywgY29uc3QgZmxvYXQgdil7XFxuICAgIHZlYzMgYyA9IHZlYzMoaCwgcywgdik7XFxuICAgIGNvbnN0IHZlYzQgSyA9IHZlYzQoMS4wLCAyLjAgLyAzLjAsIDEuMCAvIDMuMCwgMy4wKTtcXG4gICAgdmVjMyBwID0gYWJzKGZyYWN0KGMueHh4ICsgSy54eXopICogNi4wIC0gSy53d3cpO1xcbiAgICByZXR1cm4gYy56ICogbWl4KEsueHh4LCBjbGFtcChwIC0gSy54eHgsIDAuMCwgMS4wKSwgYy55KTtcXG59XFxuXFxuLy8gZnJvbSBTeW50b3BpYSBodHRwOi8vYmxvZy5odmlkdGZlbGR0cy5uZXQvaW5kZXgucGhwLzIwMTUvMDEvcGF0aC10cmFjaW5nLTNkLWZyYWN0YWxzL1xcbnZlYzIgcmFuZDJuKGNvbnN0IHZlYzIgY28sIGNvbnN0IGZsb2F0IHNhbXBsZUluZGV4KSB7XFxuICAgIHZlYzIgc2VlZCA9IGNvICogKHNhbXBsZUluZGV4ICsgMS4wKTtcXG4gICAgc2VlZCs9dmVjMigtMSwxKTtcXG4gICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb246IGx1bWluYS5zb3VyY2Vmb3JnZS5uZXQvVHV0b3JpYWxzL05vaXNlLmh0bWxcXG4gICAgcmV0dXJuIHZlYzIoZnJhY3Qoc2luKGRvdChzZWVkLnh5ICx2ZWMyKDEyLjk4OTgsNzguMjMzKSkpICogNDM3NTguNTQ1MyksXFxuICAgICAgICAgICAgICAgIGZyYWN0KGNvcyhkb3Qoc2VlZC54eSAsdmVjMig0Ljg5OCw3LjIzKSkpICogMjM0MjEuNjMxKSk7XFxufVxcblxcbnZlYzIgY2lyY2xlSW52ZXJzaW9uKGNvbnN0IHZlYzIgcG9zLCBjb25zdCB2ZWMzIGNpcmNsZSl7XFxuICAgIHZlYzIgcCA9IHBvcyAtIGNpcmNsZS54eTtcXG4gICAgZmxvYXQgZCA9IGxlbmd0aChwKTtcXG4gICAgcmV0dXJuIChwICogY2lyY2xlLnogKiBjaXJjbGUueikvKGQgKiBkKSArIGNpcmNsZS54eTtcXG59XFxuXFxuY29uc3QgaW50IE1BWF9JVEVSQVRJT05TID0gMjA7XFxudmVjMiBpaXModmVjMiBwb3MsIG91dCBib29sIGlzT3V0ZXIpIHtcXG4gICAgaW50IG51bUludmVyc2lvbnMgPSAwO1xcbiAgICB2ZWMzIGMzID0gdmVjMygtdV9jaXJjbGUxLnh5LCB1X2NpcmNsZTEueik7XFxuICAgIHZlYzMgYzQgPSB2ZWMzKC11X2NpcmNsZTIueHksIHVfY2lyY2xlMi56KTtcXG4gICAgaXNPdXRlciA9IGZhbHNlO1xcblxcbiAgICBmbG9hdCB4ID0gMC41NzczNTtcXG4gICAgYm9vbCByZXZDMiA9IGZhbHNlO1xcbiAgICBpZih4ID4gdV9jaXJjbGUyLngpe1xcbiAgICAgICAgcmV2QzIgPSB0cnVlO1xcbiAgICB9XFxuICAgIGZvcihpbnQgaSA9IDAgOyBpIDwgTUFYX0lURVJBVElPTlMgOyBpKyspe1xcbiAgICAgICAgYm9vbCBsb29wRW5kID0gdHJ1ZTtcXG4gICAgICAgIGlmKGRpc3RhbmNlKHBvcywgYzMueHkpIDwgYzMueikge1xcbiAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIGMzKTtcXG4gICAgICAgICAgICBsb29wRW5kID0gZmFsc2U7XFxuICAgICAgICAgICAgbnVtSW52ZXJzaW9ucysrO1xcbiAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZShwb3MsIHVfY2lyY2xlMS54eSkgPCB1X2NpcmNsZTEueikge1xcbiAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIHVfY2lyY2xlMSk7XFxuICAgICAgICAgICAgbG9vcEVuZCA9IGZhbHNlO1xcbiAgICAgICAgICAgIG51bUludmVyc2lvbnMrKztcXG4gICAgICAgIH1cXG4gICAgICAgIGlmKHJldkMyKSB7XFxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlKHBvcywgdV9jaXJjbGUyLnh5KSA+IHVfY2lyY2xlMi56KSB7XFxuICAgICAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIHVfY2lyY2xlMik7XFxuICAgICAgICAgICAgICAgIGxvb3BFbmQgPSBmYWxzZTtcXG4gICAgICAgICAgICAgICAgbnVtSW52ZXJzaW9ucysrO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UocG9zLCBjNC54eSkgPiBjNC56KSB7XFxuICAgICAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIGM0KTtcXG4gICAgICAgICAgICAgICAgbG9vcEVuZCA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICBudW1JbnZlcnNpb25zKys7XFxuICAgICAgICAgICAgfSAgICAgICBcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlKHBvcywgdV9jaXJjbGUyLnh5KSA8IHVfY2lyY2xlMi56KSB7XFxuICAgICAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIHVfY2lyY2xlMik7XFxuICAgICAgICAgICAgICAgIGxvb3BFbmQgPSBmYWxzZTtcXG4gICAgICAgICAgICAgICAgbnVtSW52ZXJzaW9ucysrO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UocG9zLCBjNC54eSkgPCBjNC56KSB7XFxuICAgICAgICAgICAgICAgIHBvcyA9IGNpcmNsZUludmVyc2lvbihwb3MsIGM0KTtcXG4gICAgICAgICAgICAgICAgbG9vcEVuZCA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICBudW1JbnZlcnNpb25zKys7XFxuICAgICAgICAgICAgfSAgICBcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGlmKGxvb3BFbmQpIGJyZWFrO1xcbiAgICB9XFxuICAgIGlmKGxlbmd0aChwb3MpID4gMS41KSB7XFxuICAgICAgICBpc091dGVyID0gdHJ1ZTtcXG4gICAgfVxcbiAgICByZXR1cm4gcG9zO1xcbn1cXG5cXG5jb25zdCBmbG9hdCBNQVhfU0FNUExFUyA9IDEwMC47XFxub3V0IHZlYzQgb3V0Q29sb3I7XFxudm9pZCBtYWluKCkge1xcbiAgICB2ZWM0IHN1bSA9IHZlYzQoMCk7XFxuICAgIGZsb2F0IHJhdGlvID0gdV9yZXNvbHV0aW9uLnggLyB1X3Jlc29sdXRpb24ueSAvIDIuMDtcXG4gICAgdmVjMiBjb3JuZXJMb3dlckxlZnQgPSAtdV9jb3JuZXJVcHBlclJpZ2h0O1xcbiAgICB2ZWMyIHRpbGVTaXplID0gdV9jb3JuZXJVcHBlclJpZ2h0IC0gY29ybmVyTG93ZXJMZWZ0O1xcbiAgICAvLyAgc3VtID0gdGV4dHVyZSh1X2NhbWVyYVRleHR1cmUsIGFicygocG9zaXRpb24gLSBjb3JuZXJMb3dlckxlZnQpIC8gc2l6ZSkpO1xcbiAgICBmbG9hdCBjYW1lcmFBc3BlY3QgPSB1X2NhbWVyYVJlc29sdXRpb24ueSAvIHVfY2FtZXJhUmVzb2x1dGlvbi54O1xcbiAgICBmbG9hdCB0aWxlQXNwZWN0ID0gdGlsZVNpemUueSAvIHRpbGVTaXplLng7XFxuICAgIHZlYzIgY2FtZXJhU2l6ZU9uU2NyZWVuO1xcbiAgICB2ZWMyIG9mZnNldDtcXG4gICAgaWYodGlsZUFzcGVjdCA+PSBjYW1lcmFBc3BlY3QpIHtcXG4gICAgICAgIC8vIOW5heOCkjHjgajjgZfjgabjgajjgY3jgavjgr/jgqTjg6vjga7mlrnjgYzpq5jjgZXjgYzlpKfjgY3jgYRcXG4gICAgICAgIC8vIOaoquaWueWQkeOCkuOCr+ODquODg+ODl1xcbiAgICAgICAgLy9jYW1lcmFXaWR0aCA9IHVfY2FtZXJhUmVzb2x1dGlvbi54ICogKHRpbGVTaXplLnggLyB0aWxlU2l6ZS55KTtcXG4gICAgICAgIC8vY2FtZXJhSGVpZ2h0ID0gdV9jYW1lcmFSZXNvbHV0aW9uLnk7XFxuICAgICAgICAvL29mZnNldFggPSAodV9jYW1lcmFSZXNvbHV0aW9uLnggLSBjYW1lcmFXaWR0aCkgLyAyLjtcXG4gICAgICAgIGNhbWVyYVNpemVPblNjcmVlbiA9IHZlYzIodGlsZVNpemUueSAqICh1X2NhbWVyYVJlc29sdXRpb24ueCAvIHVfY2FtZXJhUmVzb2x1dGlvbi55KSwgdGlsZVNpemUueSk7XFxuICAgICAgICBvZmZzZXQgPSB2ZWMyKChjYW1lcmFTaXplT25TY3JlZW4ueCAtIHRpbGVTaXplLngpICogMC41LCAwKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIC8vIOW5heOCkjHjgajjgZfjgabjgajjgY3jgavnlLvlg4/jga7mlrnjgYzpq5jjgZXjgYzlpKfjgY3jgYRcXG4gICAgICAgIC8vIOe4puaWueWQkeOBp+OCr+ODquODg+ODl1xcbiAgICAgICAgLy9jYW1lcmFXaWR0aCA9IHVfY2FtZXJhUmVzb2x1dGlvbi54O1xcbiAgICAgICAgLy9jYW1lcmFIZWlnaHQgPSB1X2NhbWVyYVJlc29sdXRpb24ueCAqIHRpbGVBc3BlY3Q7XFxuICAgICAgICAvL29mZnNldFkgPSAodV9jYW1lcmFSZXNvbHV0aW9uLnkgLSBjYW1lcmFIZWlnaHQpIC8gMi47XFxuICAgICAgICBjYW1lcmFTaXplT25TY3JlZW4gPSB2ZWMyKHRpbGVTaXplLngsIHRpbGVTaXplLnggKiAodV9jYW1lcmFSZXNvbHV0aW9uLnkgLyB1X2NhbWVyYVJlc29sdXRpb24ueCkpO1xcbiAgICAgICAgb2Zmc2V0ID0gdmVjMigwLCAoY2FtZXJhU2l6ZU9uU2NyZWVuLnkgLSB0aWxlU2l6ZS55KSAqIDAuNSk7XFxuICAgIH1cXG4gICAgZm9yKGZsb2F0IGkgPSAwLjsgaSA8IE1BWF9TQU1QTEVTOyBpKyspe1xcbiAgICAgICAgdmVjMiBwb3NpdGlvbiA9ICgoZ2xfRnJhZ0Nvb3JkLnh5ICsgcmFuZDJuKGdsX0ZyYWdDb29yZC54eSwgaSkpIC8gdV9yZXNvbHV0aW9uLnl5ICkgLSB2ZWMyKHJhdGlvLCAwLjUpO1xcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiAqIHVfc2NhbGU7XFxuICAgICAgICBwb3NpdGlvbiArPSB1X3RyYW5zbGF0aW9uO1xcblxcbiAgICAgICAgLy8gaWYoZGlzdGFuY2UocG9zaXRpb24sIHVfY2lyY2xlMS54eSkgPCB1X2NpcmNsZTEueikge1xcbiAgICAgICAgLy8gICAgIHN1bSArPSB2ZWM0KDEsIDAsIDAsIDEpO1xcbiAgICAgICAgLy8gICAgIGNvbnRpbnVlO1xcbiAgICAgICAgLy8gfVxcbiAgICAgICAgLy8gaWYoZGlzdGFuY2UocG9zaXRpb24sIHVfY2lyY2xlMi54eSkgPCB1X2NpcmNsZTIueikge1xcbiAgICAgICAgLy8gICAgIHN1bSArPSB2ZWM0KDEsIDAsIDAsIDEpO1xcbiAgICAgICAgLy8gICAgIGNvbnRpbnVlO1xcbiAgICAgICAgLy8gfVxcbiAgICAgICAgXFxuICAgICAgICAvL3N1bSArPSB0ZXh0dXJlKHVfY2FtZXJhVGV4dHVyZSwgZ2xfRnJhZ0Nvb3JkLnh5IC8gdV9jYW1lcmFSZXNvbHV0aW9uKTtcXG5cXG4gICAgICAgIHZlYzIgY29ybmVyTG93ZXJMZWZ0ID0gLXVfY29ybmVyVXBwZXJSaWdodDtcXG4gICAgICAgIHZlYzIgdGlsZVNpemUgPSB1X2Nvcm5lclVwcGVyUmlnaHQgLSBjb3JuZXJMb3dlckxlZnQ7XFxuICAgICAgICAvLyAgc3VtID0gdGV4dHVyZSh1X2NhbWVyYVRleHR1cmUsIGFicygocG9zaXRpb24gLSBjb3JuZXJMb3dlckxlZnQpIC8gc2l6ZSkpO1xcbiAgICAgICAgZmxvYXQgY2FtZXJhQXNwZWN0ID0gdV9jYW1lcmFSZXNvbHV0aW9uLnkgLyB1X2NhbWVyYVJlc29sdXRpb24ueDtcXG4gICAgICAgIGZsb2F0IHRpbGVBc3BlY3QgPSB0aWxlU2l6ZS55IC8gdGlsZVNpemUueDtcXG4gICAgICAgIGJvb2wgaXNPdXRlcjtcXG4gICAgICAgIHZlYzIgcG9zID0gaWlzKHBvc2l0aW9uLCBpc091dGVyKTtcXG4gICAgICAgIGlmKGlzT3V0ZXIpIHtcXG4gICAgICAgICAgICBzdW0gKz0gdmVjNCgwLCAwLCAwLCAxKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgdmVjMiB1diA9IDEuMCAtICgocG9zIC0gY29ybmVyTG93ZXJMZWZ0ICsgb2Zmc2V0KSAvIGNhbWVyYVNpemVPblNjcmVlbik7XFxuICAgICAgICAgICAgLy9zdW0gKz0gdmVjNCh1diwgMCwgMSk7XFxuICAgICAgICAgICAgc3VtICs9IHRleHR1cmUodV9jYW1lcmFUZXh0dXJlLCB1dik7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgXFxuICAgIG91dENvbG9yID0gc3VtIC8gTUFYX1NBTVBMRVM7XFxufVxcblwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIiN2ZXJzaW9uIDMwMCBlc1xcblxcbmluIHZlYzIgYV92ZXJ0ZXg7XFxub3V0IHZlYzIgdl90ZXhDb29yZDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZfdGV4Q29vcmQgPSBhX3ZlcnRleC54eSAqIDAuNSArIDAuNTtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfdmVydGV4LCAwLiwgMS4wKTtcXG59XFxuXCIiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLyoqXG4gKiBAbW9kdWxlIEdMVXR0aWxzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMVXRpbHMge1xuICAgIC8qKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGNvbnRleHQgb2YgV2ViR0wgMi4wXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gICAgICogQHJldHVybnMge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgc3RhdGljIEdldFdlYkdMMkNvbnRleHQoY2FudmFzKSB7XG4gICAgICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicpO1xuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViR0wgMi4wIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2Ugb3IgYnJvd3NlciEgUGxlYXNlIHVzZSBhbm90aGVyIGJyb3dzZXIgb3IgZGV2aWNlLicpO1xuICAgICAgICAgICAgYWxlcnQoJ1dlYkdMIDIuMCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlIG9yIGJyb3dzZXIhIFBsZWFzZSB1c2UgYW5vdGhlciBicm93c2VyIG9yIGRldmljZS4nKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTDJSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgICAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcj59IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVN0YXRpY1ZibyhnbCwgZGF0YSkge1xuICAgICAgICBjb25zdCB2Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibyk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHZibztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVNxdWFyZVZibyhnbCkge1xuICAgICAgICByZXR1cm4gR0xVdGlscy5DcmVhdGVTdGF0aWNWYm8oZ2wsIEdMVXRpbHMuU1FVQVJFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbVxuICAgICAqL1xuICAgIHN0YXRpYyBMaW5rUHJvZ3JhbShnbCwgcHJvZ3JhbSkge1xuICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExpbmsgUHJvZ3JhbSBFcnJvclxcbiR7aW5mb31gKTtcbiAgICAgICAgfVxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2hhZGVyU3RyXG4gICAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2hhZGVyVHlwZVxuICAgICAqL1xuICAgIHN0YXRpYyBBdHRhY2hTaGFkZXIoZ2wsIHNoYWRlclN0ciwgcHJvZ3JhbSwgc2hhZGVyVHlwZSkge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclN0cik7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgaWYgKGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTaGFkZXIgQ29tcGlsYXRpb24gRXJyb3JcXG4ke2dsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgc2hhZGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcm5hbEZvcm1hdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICAgICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgIDAsIGZvcm1hdCwgdHlwZSwgbnVsbCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gICAgICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgQ3JlYXRlUkdCVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCwgdHlwZSkge1xuICAgICAgICByZXR1cm4gR0xVdGlscy5DcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0IsIGdsLlJHQiwgdHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTDJSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHN0YXRpYyBDcmVhdGVSR0JVbnNpZ25lZEJ5dGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBHTFV0aWxzLkNyZWF0ZVJHQlRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsIGdsLlVOU0lHTkVEX0JZVEUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgQ3JlYXRlUkdCRmxvYXRUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBHTFV0aWxzLkNyZWF0ZVJHQlRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsIGdsLkZMT0FUKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVJHQlVuc2lnbmVkQnl0ZVRleHR1cmVzKGdsLCB3aWR0aCwgaGVpZ2h0LCBudW0pIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChHTFV0aWxzLkNyZWF0ZVJHQlVuc2lnbmVkQnl0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTDJSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHN0YXRpYyBDcmVhdGVSR0JBVW5zaWduZWRCeXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gR0xVdGlscy5DcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2VcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHN0YXRpYyBDcmVhdGVSR0JBVW5zaWduZWRCeXRlSW1hZ2VUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCBpbWFnZSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVJHQkFVbnNpZ25lZEJ5dGVUZXh0dXJlcyhnbCwgd2lkdGgsIGhlaWdodCwgbnVtKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goR0xVdGlscy5DcmVhdGVSR0JBVW5zaWduZWRCeXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgc3RhdGljIENyZWF0ZVJHQkFGbG9hdFRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIEdMVXRpbHMuQ3JlYXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQTE2RiwgZ2wuUkdCQSwgZ2wuRkxPQVQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bVxuICAgICAqIEByZXR1cm5zIHtBcnJheS48V2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBzdGF0aWMgQ3JlYXRlUkdCQUZsb2F0VGV4dHVyZXMoZ2wsIHdpZHRoLCBoZWlnaHQsIG51bSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKEdMVXRpbHMuQ3JlYXRlUkdCQUZsb2F0VGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPG51bWJlcj59XG4gICAgICovXG4gICAgc3RhdGljIGdldCBTUVVBUkUoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAtMSwgMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR0xVdGlscyBmcm9tICcuL2dsVXRpbHMuanMnO1xuaW1wb3J0IFNjZW5lIGZyb20gJy4vc2NlbmUuanMnO1xuaW1wb3J0IFZlYzIgZnJvbSAnLi92ZWMyLmpzJztcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4vLyBAdHMtaWdub3JlXG5jb25zdCBSRU5ERVJfVkVSVEVYID0gcmVxdWlyZSgnLi9zaGFkZXIvcmVuZGVyLnZlcnQnKTtcbi8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgUkVOREVSX0ZSQUdNRU5UID0gcmVxdWlyZSgnLi9zaGFkZXIvcmVuZGVyLmZyYWcnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8V2ViR0xVbmlmb3JtTG9jYXRpb24+fSAqL1xuICAgIHVuaUxvY2F0aW9ucztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLmdsID0gR0xVdGlscy5HZXRXZWJHTDJDb250ZXh0KHRoaXMuY2FudmFzKTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBHTFV0aWxzLkNyZWF0ZVNxdWFyZVZibyh0aGlzLmdsKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmFtID0gdGhpcy5nbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgIEdMVXRpbHMuQXR0YWNoU2hhZGVyKHRoaXMuZ2wsIFJFTkRFUl9WRVJURVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUHJvZ3JhbSwgdGhpcy5nbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgR0xVdGlscy5BdHRhY2hTaGFkZXIodGhpcy5nbCwgUkVOREVSX0ZSQUdNRU5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclByb2dyYW0sIHRoaXMuZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgR0xVdGlscy5MaW5rUHJvZ3JhbSh0aGlzLmdsLCB0aGlzLnJlbmRlclByb2dyYW0pO1xuICAgICAgICB0aGlzLnJlbmRlclZBdHRyaWIgPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucmVuZGVyUHJvZ3JhbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYV92ZXJ0ZXgnKTtcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnJlbmRlclZBdHRyaWIpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVVbmlvcm1Mb2NhdGlvbnMoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplVW5pb3JtTG9jYXRpb25zKCkge1xuICAgICAgICB0aGlzLnVuaUxvY2F0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnVuaUxvY2F0aW9ucy5wdXNoKHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucmVuZGVyUHJvZ3JhbSwgJ3VfcmVzb2x1dGlvbicpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICovXG4gICAgc2V0VW5pZm9ybVZhbHVlcyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy51bmlMb2NhdGlvbnNbaSsrXSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTY2VuZX0gc2NlbmVcbiAgICAgKi9cbiAgICByZW5kZXIoc2NlbmUpIHtcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucmVuZGVyUHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuc2V0VW5pZm9ybVZhbHVlcyh0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgc2NlbmUuc2V0VW5pZm9ybVZhbHVlcyh0aGlzLmdsKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnJlbmRlclZBdHRyaWIsIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIHRoaXMuZ2wuZHJhd0FycmF5cyh0aGlzLmdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBHTFV0aWxzIGZyb20gJy4vZ2xVdGlscy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYVRleHR1cmUge1xuICAgIC8qKiBAdHlwZSB7SFRNTFZpZGVvRWxlbWVudH0gKi9cbiAgICB2aWRlbztcbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgaXNQbGF5aW5nVmlkZW87XG4gICAgLyoqIEB0eXBlIHtXZWJHTFRleHR1cmV9ICovXG4gICAgdGV4dHVyZTtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB3aWR0aDtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICBoZWlnaHQ7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKi9cbiAgICBjb25uZWN0VG9DYW1lcmEoZ2wpIHtcbiAgICAgICAgY29uc3QgbWVkaWEgPSB7IHZpZGVvOiB0cnVlLCBhdWRpbzogZmFsc2UgfTtcbiAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShtZWRpYSkudGhlbihcbiAgICAgICAgICAgICAgICAobG9jYWxNZWRpYVN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlby5zcmNPYmplY3QgPSBsb2NhbE1lZGlhU3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5wbGF5TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNQbGF5aW5nVmlkZW8gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMudmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy52aWRlby52aWRlb0hlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IEdMVXRpbHMuQ3JlYXRlUkdCVW5zaWduZWRCeXRlVGV4dHVyZXMoZ2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW8udmlkZW9XaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlby52aWRlb0hlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBjYW5wbGF5TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBjYW5wbGF5TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZ2V0VXNlck1lZGlhIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZShnbCkge1xuICAgICAgICBpZiAodGhpcy5pc1BsYXlpbmdWaWRlbykge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLnZpZGVvKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBWZWMyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlYzIge1xuICAgIC8qKlxuICAgICAqIFggdmFsdWUgb2YgdGhlIHZlY3Rvci5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHg7XG4gICAgLyoqXG4gICAgICogWSB2YWx1ZSBvZiB0aGUgdmVjdG9yLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgeTtcblxuICAgIC8qKlxuICAgICAgIGNsYXNzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdmVjdG9yXG4gICAgICogQHBhcmFtIHtWZWMyfSB2XG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgYWRkKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjMn0gdlxuICAgICAqIEByZXR1cm5zIHtWZWMyfVxuICAgICAqL1xuICAgIHN1Yih2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZlYzJ9IHZcbiAgICAgKiBAcmV0dXJucyB7VmVjMn1cbiAgICAgKi9cbiAgICBwcm9kKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCAqIHYueCwgdGhpcy55ICogdi55KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMyfSB2XG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgZGl2KHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCAvIHYueCwgdGhpcy55IC8gdi55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBrXG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgc2NhbGUoaykge1xuICAgICAgICByZXR1cm4gbmV3IFZlYzIodGhpcy54ICogaywgdGhpcy55ICogayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBsZW5ndGhTcSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZSgxLjAgLyB0aGlzLmxlbmd0aCgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjMn0gdlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGVxKHYpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCAtIHYueCkgPD0gVmVjMi5FUFNJTE9OICYmXG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLnkgLSB2LnkpIDw9IFZlYzIuRVBTSUxPTjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtWZWMyfVxuICAgICAqL1xuICAgIGNsb25lRGVlcGx5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlYzIodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMyfSB2XG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgc3RhdGljIG5vcm1hbGl6ZSh2KSB7XG4gICAgICAgIHJldHVybiB2Lm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMyfSB2MVxuICAgICAqIEBwYXJhbSB7VmVjMn0gdjJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyBkb3QodjEsIHYyKSB7XG4gICAgICAgIHJldHVybiB2MS54ICogdjIueCArIHYxLnkgKiB2Mi55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMyfSB2MVxuICAgICAqIEBwYXJhbSB7VmVjMn0gdjJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyBkaXN0YW5jZSh2MSwgdjIpIHtcbiAgICAgICAgY29uc3QgbCA9IHYxLnN1Yih2Mik7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQobC54ICogbC54ICsgbC55ICogbC55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBFUFNJTE9OKCkge1xuICAgICAgICByZXR1cm4gMC4wMDAwMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48bnVtYmVyPn1cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtWZWMyfVxuICAgICAqL1xuICAgIGdldCB4eCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCwgdGhpcy54KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7VmVjMn1cbiAgICAgKi9cbiAgICBnZXQgeXkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMih0aGlzLnksIHRoaXMueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgZ2V0IHh5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlYzIodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtWZWMyfVxuICAgICAqL1xuICAgIGdldCB5eCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueSwgdGhpcy54KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgVmVjM1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMzIHtcbiAgICAvKipcbiAgICAgKiBYIHZhbHVlIG9mIHRoZSB2ZWN0b3IuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB4O1xuICAgIC8qKlxuICAgICAqIFkgdmFsdWUgb2YgdGhlIHZlY3Rvci5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHk7XG4gICAgLyoqXG4gICAgICogWiB2YWx1ZSBvZiB0aGUgdmVjdG9yLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgejtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gelxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdmVjdG9yXG4gICAgICogQHBhcmFtIHtWZWMzfSB2XG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgYWRkKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55LCB0aGlzLnogKyB2LnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMzfSB2XG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgc3ViKHYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55LCB0aGlzLnogLSB2LnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMzfSB2XG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgcHJvZCh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKiB2LngsIHRoaXMueSAqIHYueSwgdGhpcy56ICogdi56KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjM30gdlxuICAgICAqIEByZXR1cm5zIHtWZWMzfVxuICAgICAqL1xuICAgIGRpdih2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggLyB2LngsIHRoaXMueSAvIHYueSwgdGhpcy56IC8gdi56KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBrXG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgc2NhbGUoaykge1xuICAgICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICogaywgdGhpcy55ICogaywgdGhpcy56ICogayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBsZW5ndGhTcSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZSgxLjAgLyB0aGlzLmxlbmd0aCgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjM30gdlxuICAgICAqIEByZXR1cm5zIHtWZWMzfVxuICAgICAqL1xuICAgIHN0YXRpYyBub3JtYWxpemUodikge1xuICAgICAgICByZXR1cm4gdi5ub3JtYWxpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjM30gdjFcbiAgICAgKiBAcGFyYW0ge1ZlYzN9IHYyXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZG90KHYxLCB2Mikge1xuICAgICAgICByZXR1cm4gKHYxLnggKiB2Mi54ICsgdjEueSAqIHYyLnkgKyB2MS56ICogdjIueik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZlYzN9IHYxXG4gICAgICogQHBhcmFtIHtWZWMzfSB2MlxuICAgICAqIEByZXR1cm5zIHtWZWMzfVxuICAgICAqL1xuICAgIHN0YXRpYyBjcm9zcyh2MSwgdjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHYxLnkgKiB2Mi56IC0gdjEueiAqIHYyLnksXG4gICAgICAgICAgICAgICAgICAgICAgICB2MS56ICogdjIueCAtIHYxLnggKiB2Mi56LFxuICAgICAgICAgICAgICAgICAgICAgICAgdjEueCAqIHYyLnkgLSB2MS55ICogdjIueCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZlYzN9IHYxXG4gICAgICogQHBhcmFtIHtWZWMzfSB2MlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGRpc3RhbmNlKHYxLCB2Mikge1xuICAgICAgICBjb25zdCBsID0gdjEuc3ViKHYyKTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChsLnggKiBsLnggKyBsLnkgKiBsLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnNcbiAgICAgKiBAcmV0dXJucyB7VmVjM31cbiAgICAgKi9cbiAgICByb3RhdGVBcm91bmRYKHJhZGlhbnMpIHtcbiAgICAgICAgY29uc3QgY29zUmFkID0gTWF0aC5jb3MocmFkaWFucyk7XG4gICAgICAgIGNvbnN0IHNpblJhZCA9IE1hdGguc2luKHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29zUmFkICogdGhpcy55ICsgLXNpblJhZCAqIHRoaXMueixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpblJhZCAqIHRoaXMueSArIGNvc1JhZCAqIHRoaXMueik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaWFuc1xuICAgICAqIEByZXR1cm5zIHtWZWMzfVxuICAgICAqL1xuICAgIHJvdGF0ZUFyb3VuZFkocmFkaWFucykge1xuICAgICAgICBjb25zdCBjb3NSYWQgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgICAgICAgY29uc3Qgc2luUmFkID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyhjb3NSYWQgKiB0aGlzLnggKyBzaW5SYWQgKiB0aGlzLnosXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAtc2luUmFkICogdGhpcy54ICsgY29zUmFkICogdGhpcy56KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zXG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgcm90YXRlQXJvdW5kWihyYWRpYW5zKSB7XG4gICAgICAgIGNvbnN0IGNvc1JhZCA9IE1hdGguY29zKHJhZGlhbnMpO1xuICAgICAgICBjb25zdCBzaW5SYWQgPSBNYXRoLnNpbihyYWRpYW5zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKGNvc1JhZCAqIHRoaXMueCAtIHNpblJhZCAqIHRoaXMueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpblJhZCAqIHRoaXMueCArIGNvc1JhZCAqIHRoaXMueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFZlYzIgZnJvbSAnLi92ZWMyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lyY2xlIHtcbiAgICAvKiogQHR5cGUge1ZlYzJ9ICovXG4gICAgY2VudGVyO1xuICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgIHI7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtWZWMyfSBjZW50ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlciwgcikge1xuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5yID0gcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBpbnZlcnNpb24gdG8gYSBnaXZlbiBwb2ludFxuICAgICAqIEBwYXJhbSB7VmVjMn0gcFxuICAgICAqIEByZXR1cm5zIHtWZWMyfVxuICAgICAqL1xuICAgIGludmVydE9uUG9pbnQgKHApIHtcbiAgICAgICAgY29uc3QgcjIgPSB0aGlzLnIgKiB0aGlzLnI7XG4gICAgICAgIGNvbnN0IGQgPSBwLnN1Yih0aGlzLmNlbnRlcik7XG4gICAgICAgIGNvbnN0IGxlblNxID0gZC5sZW5ndGhTcSgpO1xuICAgICAgICByZXR1cm4gZC5zY2FsZShyMiAvIGxlblNxKS5hZGQodGhpcy5jZW50ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGludmVyc2lvbiB0byBhIGdpdmVuIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7Q2lyY2xlfSBjXG4gICAgICogQHJldHVybnMge0NpcmNsZX1cbiAgICAgKi9cbiAgICBpbnZlcnRPbkNpcmNsZSAoYykge1xuICAgICAgICBjb25zdCBjb2VmZlIgPSBjLnIgKiBNYXRoLnNxcnQoMikgLyAyO1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMuaW52ZXJ0T25Qb2ludChjLmNlbnRlci5hZGQobmV3IFZlYzIoY29lZmZSLCBjb2VmZlIpKSk7XG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5pbnZlcnRPblBvaW50KGMuY2VudGVyLmFkZChuZXcgVmVjMigtY29lZmZSLCAtY29lZmZSKSkpO1xuICAgICAgICBjb25zdCBwMyA9IHRoaXMuaW52ZXJ0T25Qb2ludChjLmNlbnRlci5hZGQobmV3IFZlYzIoY29lZmZSLCAtY29lZmZSKSkpO1xuICAgICAgICByZXR1cm4gQ2lyY2xlLmZyb21Qb2ludHMocDEsIHAyLCBwMyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDaXJjbGV9IGMxXG4gICAgICogQHBhcmFtIHtDaXJjbGV9IGMyXG4gICAgICogQHJldHVybnMge1tWZWMyLCBWZWMyXX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW50ZXJzZWN0aW9uKGMxLCBjMikge1xuICAgICAgICBjb25zdCBkID0gYzEuY2VudGVyLnN1YihjMi5jZW50ZXIpO1xuICAgICAgICBjb25zdCBkb3QgPSBWZWMyLmRvdChkLCBkKTtcbiAgICAgICAgY29uc3QgYSA9IChkb3QgKyBjMi5yICogYzIuciAtIGMxLnIgKiBjMS5yKSAvIDI7XG4gICAgICAgIGNvbnN0IGEyID0gYSAqIGE7XG4gICAgICAgIGlmIChkb3QgKiBjMi5yICogYzIuciAtIGEyIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY29tcHV0ZSBpbnRlcnNlY3Rpb25zJyk7XG4gICAgICAgIGNvbnN0IG51bVIgPSBNYXRoLnNxcnQoZG90ICogYzIuciAqIGMyLnIgLSBhMik7XG4gICAgICAgIHJldHVybiBbbmV3IFZlYzIoKGEgKiBkLnggKyBkLnkgKiBudW1SKSAvIGRvdCArIGMyLmNlbnRlci54LCAoYSAqIGQueSAtIGQueCAqIG51bVIpIC8gZG90ICsgYzIuY2VudGVyLnkpLFxuICAgICAgICAgICAgICAgIG5ldyBWZWMyKChhICogZC54IC0gZC55ICogbnVtUikgLyBkb3QgKyBjMi5jZW50ZXIueCwgKGEgKiBkLnkgKyBkLnggKiBudW1SKSAvIGRvdCArIGMyLmNlbnRlci55KV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIGNpcmNsZSBwYXNzaW5nIHRocm91Z2ggdGhyZWUgcG9pbnRzXG4gICAgICogQHBhcmFtIHtWZWMyfSBhXG4gICAgICogQHBhcmFtIHtWZWMyfSBiXG4gICAgICogQHBhcmFtIHtWZWMyfSBjXG4gICAgICogQHJldHVybnMge0NpcmNsZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVBvaW50cyAoYSwgYiwgYykge1xuICAgICAgICBjb25zdCBsQSA9IFZlYzIuZGlzdGFuY2UoYiwgYyk7XG4gICAgICAgIGNvbnN0IGxCID0gVmVjMi5kaXN0YW5jZShhLCBjKTtcbiAgICAgICAgY29uc3QgbEMgPSBWZWMyLmRpc3RhbmNlKGEsIGIpO1xuICAgICAgICBjb25zdCBjb2VmQSA9IGxBICogbEEgKiAobEIgKiBsQiArIGxDICogbEMgLSBsQSAqIGxBKTtcbiAgICAgICAgY29uc3QgY29lZkIgPSBsQiAqIGxCICogKGxBICogbEEgKyBsQyAqIGxDIC0gbEIgKiBsQik7XG4gICAgICAgIGNvbnN0IGNvZWZDID0gbEMgKiBsQyAqIChsQSAqIGxBICsgbEIgKiBsQiAtIGxDICogbEMpO1xuICAgICAgICBjb25zdCBkZW5vbSA9IGNvZWZBICsgY29lZkIgKyBjb2VmQztcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IFZlYzIoKGNvZWZBICogYS54ICsgY29lZkIgKiBiLnggKyBjb2VmQyAqIGMueCkgLyBkZW5vbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvZWZBICogYS55ICsgY29lZkIgKiBiLnkgKyBjb2VmQyAqIGMueSkgLyBkZW5vbSk7XG4gICAgICAgIGNvbnN0IHIgPSBWZWMyLmRpc3RhbmNlKGNlbnRlciwgYSk7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKGNlbnRlciwgcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFZlYzIgZnJvbSAnLi92ZWMyLmpzJztcbmltcG9ydCBWZWMzIGZyb20gJy4vdmVjMy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0ZXJlb1Byb2plY3RvcntcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VmVjMn0gcG9zXG4gICAgICogQHJldHVybnMge1ZlYzN9XG4gICAgICovXG4gICAgc3RhdGljIHByb2plY3QocG9zKSB7XG4gICAgICAgIGNvbnN0IGQgPSBWZWMyLmRvdChwb3MsIHBvcyk7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMygoMiAqIHBvcy54KSAvICgxICsgZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAoMiAqIHBvcy55KSAvICgxICsgZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAoLTEgKyBkKSAvICgxICsgZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7VmVjM30gcG9zXG4gICAgICogQHJldHVybnMge1ZlYzJ9XG4gICAgICovXG4gICAgc3RhdGljIHJldmVyc2VQcm9qZWN0KHBvcykge1xuICAgICAgICByZXR1cm4gbmV3IFZlYzIocG9zLnggLyAoMSAtIHBvcy56KSwgcG9zLnkgLyAoMSAtIHBvcy56KSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFZlYzIgZnJvbSAnLi92ZWMyLmpzJztcbmltcG9ydCBWZWMzIGZyb20gJy4vdmVjMy5qcyc7XG5pbXBvcnQgQ2lyY2xlIGZyb20gJy4vY2lyY2xlLmpzJztcbmltcG9ydCBTdGVyZW9Qcm9qZWN0b3IgZnJvbSAnLi9zdGVyZW9Qcm9qZWN0b3IuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIeXBlcmJvbGljVGVzc2VsbGF0aW9uIHtcbiAgICAvKiogQHR5cGUge1ZlYzJ9ICovXG4gICAgaXNlY3QxO1xuICAgIC8qKiBAdHlwZSB7VmVjMn0gKi9cbiAgICBpc2VjdDI7XG4gICAgLyoqIEB0eXBlIHtWZWMyfSAqL1xuICAgIGNvcm5lcjtcbiAgICBiZW5kWCA9IDA7XG4gICAgYmVuZFkgPSAwO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNpcmNsZTEgPSBuZXcgQ2lyY2xlKG5ldyBWZWMyKDEuMjYzMSwgMCksIDAuNzcxNjQzKTtcbiAgICAgICAgdGhpcy5jaXJjbGUyID0gbmV3IENpcmNsZShuZXcgVmVjMigwLCAxLjI2MzEpLCAwLjc3MTY0Myk7XG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIGNvbXB1dGUoKSB7XG4gICAgICAgIHRoaXMueCA9IDAuNTc3MzU7XG4gICAgICAgIHRoaXMueSA9IDAuNTc3MzU7XG4gICAgICAgIGNvbnN0IHhSb3RhdGUgPSBbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAwLCBNYXRoLmNvcyh0aGlzLmJlbmRYKSwgTWF0aC5zaW4odGhpcy5iZW5kWCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgMCwgTWF0aC5zaW4odGhpcy5iZW5kWCksIE1hdGguY29zKHRoaXMuYmVuZFgpXTtcbiAgICAgICAgY29uc3QgeVJvdGF0ZSA9IFtNYXRoLmNvcyh0aGlzLmJlbmRZKSwgMCwgTWF0aC5zaW4odGhpcy5iZW5kWSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAtTWF0aC5zaW4odGhpcy5iZW5kWSksIDAsIE1hdGguY29zKHRoaXMuYmVuZFkpXTtcblxuICAgICAgICB0aGlzLmMxID0gdGhpcy5jb21wdXRlQ2lyY2xlRnJvbVVwcGVyQW5kTG93ZXIoXG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0Myh4Um90YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlYzMoMCwgdGhpcy55LCBNYXRoLnNxcnQoMS4gLSB0aGlzLnkgKiB0aGlzLnkpKSksXG4gICAgICAgICAgICB0aGlzLmFwcGx5TWF0Myh4Um90YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlYzMoMCwgdGhpcy55LCAtTWF0aC5zcXJ0KDEuIC0gdGhpcy55ICogdGhpcy55KSkpKTtcbiAgICAgICAgdGhpcy5jMiA9IHRoaXMuY29tcHV0ZUNpcmNsZUZyb21VcHBlckFuZExvd2VyKFxuICAgICAgICAgICAgdGhpcy5hcHBseU1hdDMoeVJvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWMzKHRoaXMueCwgMCwgTWF0aC5zcXJ0KDEuIC0gdGhpcy54ICogdGhpcy54KSkpLFxuICAgICAgICAgICAgdGhpcy5hcHBseU1hdDMoeVJvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWMzKHRoaXMueCwgMCwgLU1hdGguc3FydCgxLiAtIHRoaXMueCAqIHRoaXMueCkpKSk7XG4gICAgICAgIFt0aGlzLmlzZWN0MSwgdGhpcy5pc2VjdDJdID0gQ2lyY2xlLmdldEludGVyc2VjdGlvbih0aGlzLmMxLCB0aGlzLmMyKTtcbiAgICAgICAgaWYodGhpcy5pc2VjdDEueCA+IHRoaXMuaXNlY3QyLngpIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IG5ldyBWZWMyKHRoaXMuaXNlY3QxLngsIHRoaXMuaXNlY3QxLnkpO1xuICAgICAgICAgICAgdGhpcy5pc2VjdDEgPSB0aGlzLmlzZWN0MjtcbiAgICAgICAgICAgIHRoaXMuaXNlY3QyID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYzEsIHRoaXMuYzIpO1xuICAgICAgICB0aGlzLmNvcm5lciA9IHRoaXMuaXNlY3QxLmxlbmd0aCgpIDwgdGhpcy5pc2VjdDIubGVuZ3RoKCkgPyB0aGlzLmlzZWN0MSA6IHRoaXMuaXNlY3QyO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlzZWN0MSwgdGhpcy5pc2VjdDIsIHRoaXMuY29ybmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1ZlYzN9IHVwcGVyXG4gICAgICogQHBhcmFtIHtWZWMzfSBsb3dlclxuICAgICAqIEByZXR1cm5zIHtDaXJjbGV9XG4gICAgICovXG4gICAgY29tcHV0ZUNpcmNsZUZyb21VcHBlckFuZExvd2VyKHVwcGVyLCBsb3dlcikge1xuICAgICAgICBjb25zdCBwMSA9IFN0ZXJlb1Byb2plY3Rvci5yZXZlcnNlUHJvamVjdCh1cHBlcik7XG4gICAgICAgIGNvbnN0IHAyID0gU3RlcmVvUHJvamVjdG9yLnJldmVyc2VQcm9qZWN0KGxvd2VyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUocDEuYWRkKHAyKS5zY2FsZSgwLjUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBWZWMyLmRpc3RhbmNlKHAxLCBwMikgKiAwLjUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gbVxuICAgICAqIEBwYXJhbSB7VmVjM30gcFxuICAgICAqIEByZXR1cm5zIHtWZWMzfVxuICAgICAqL1xuICAgIGFwcGx5TWF0MyhtLCBwKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjMyhwLnggKiBtWzBdICsgcC55ICogbVsxXSArIHAueiAqIG1bMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwLnggKiBtWzNdICsgcC55ICogbVs0XSArIHAueiAqIG1bNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwLnggKiBtWzZdICsgcC55ICogbVs3XSArIHAueiAqIG1bOF0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBDYW1lcmFUZXh0dXJlIGZyb20gJy4vY2FtZXJhVGV4dHVyZS5qcyc7XG5pbXBvcnQgSHlwZXJib2xpY1Rlc3NlbGxhdGlvbiBmcm9tICcuL2h5cGVyYm9saWNUZXNzZWxsYXRpb25CZW5kZXIuanMnO1xuaW1wb3J0IFZlYzIgZnJvbSAnLi92ZWMyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnVuaUxvY2F0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNhbWVyYVRleHR1cmUgPSBuZXcgQ2FtZXJhVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24gPSBuZXcgSHlwZXJib2xpY1Rlc3NlbGxhdGlvbigpO1xuXG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBuZXcgVmVjMigwLCAwKTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDQuNTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsXG4gICAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW1cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKGdsLCBwcm9ncmFtKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5jYW1lcmFUZXh0dXJlLmNvbm5lY3RUb0NhbWVyYShnbCk7XG5cbiAgICAgICAgdGhpcy51bmlMb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy51bmlMb2NhdGlvbnMucHVzaChnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfdHJhbnNsYXRpb24nKSk7XG4gICAgICAgIHRoaXMudW5pTG9jYXRpb25zLnB1c2goZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NjYWxlJykpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51bmlMb2NhdGlvbnMucHVzaChnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY2FtZXJhVGV4dHVyZScpKTtcbiAgICAgICAgdGhpcy51bmlMb2NhdGlvbnMucHVzaChnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY2FtZXJhUmVzb2x1dGlvbicpKTtcblxuICAgICAgICB0aGlzLnVuaUxvY2F0aW9ucy5wdXNoKGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jaXJjbGUxJykpO1xuICAgICAgICB0aGlzLnVuaUxvY2F0aW9ucy5wdXNoKGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jaXJjbGUyJykpO1xuXG4gICAgICAgIHRoaXMudW5pTG9jYXRpb25zLnB1c2goZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2Nvcm5lclVwcGVyUmlnaHQnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVsYXBzZWRUaW1lTWlsbGlzXG4gICAgICovXG4gICAgYW5pbWF0ZShlbGFwc2VkVGltZU1pbGxpcykge1xuICAgICAgICBsZXQgdCA9IGVsYXBzZWRUaW1lTWlsbGlzIC8gMTAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IDYxNztcbiAgICAgICAgdCA9IHQgJSBsaW1pdCAqIDI7XG4gICAgICAgIGlmKHQgPj0gbGltaXQpIHtcbiAgICAgICAgICAgIHQgPSBsaW1pdCAtICh0IC0gbGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vdCA9IDYxN1xuICAgICAgICAvL2NvbnNvbGUubG9nKHQpO1xuICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24uYmVuZFkgPSAtIHQgLyAxMDAwO1xuICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24uY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2xcbiAgICAgKi9cbiAgICBvblVwZGF0ZShnbCkge1xuICAgICAgICB0aGlzLmNhbWVyYVRleHR1cmUudXBkYXRlVGV4dHVyZShnbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTDJSZW5kZXJpbmdDb250ZXh0fSBnbFxuICAgICAqL1xuICAgIHNldFVuaWZvcm1WYWx1ZXMoZ2wpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZih0aGlzLnVuaUxvY2F0aW9uc1tpKytdLCB0aGlzLnRyYW5zbGF0aW9uLngsIHRoaXMudHJhbnNsYXRpb24ueSk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMudW5pTG9jYXRpb25zW2krK10sIHRoaXMuc2NhbGUpO1xuICAgICAgICBcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuY2FtZXJhVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMWkodGhpcy51bmlMb2NhdGlvbnNbaSsrXSwgMCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTJmKHRoaXMudW5pTG9jYXRpb25zW2krK10sIHRoaXMuY2FtZXJhVGV4dHVyZS53aWR0aCwgdGhpcy5jYW1lcmFUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5nbC51bmlmb3JtM2YoXG4gICAgICAgICAgICB0aGlzLnVuaUxvY2F0aW9uc1tpKytdLFxuICAgICAgICAgICAgdGhpcy5oeXBlcmJvbGljVGVzc2VsbGF0aW9uLmMxLmNlbnRlci54LFxuICAgICAgICAgICAgdGhpcy5oeXBlcmJvbGljVGVzc2VsbGF0aW9uLmMxLmNlbnRlci55LFxuICAgICAgICAgICAgdGhpcy5oeXBlcmJvbGljVGVzc2VsbGF0aW9uLmMxLnIpO1xuICAgICAgICB0aGlzLmdsLnVuaWZvcm0zZihcbiAgICAgICAgICAgIHRoaXMudW5pTG9jYXRpb25zW2krK10sXG4gICAgICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24uYzIuY2VudGVyLngsXG4gICAgICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24uYzIuY2VudGVyLnksXG4gICAgICAgICAgICB0aGlzLmh5cGVyYm9saWNUZXNzZWxsYXRpb24uYzIucik7XG5cbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYoXG4gICAgICAgICAgICB0aGlzLnVuaUxvY2F0aW9uc1tpKytdLFxuICAgICAgICAgICAgdGhpcy5oeXBlcmJvbGljVGVzc2VsbGF0aW9uLmNvcm5lci54LFxuICAgICAgICAgICAgdGhpcy5oeXBlcmJvbGljVGVzc2VsbGF0aW9uLmNvcm5lci55XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIuanMnO1xuaW1wb3J0IFNjZW5lIGZyb20gJy4vc2NlbmUuanMnO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fSAqL1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMnKTtcbiAgICBjb25zdCByZXNpemVDYW52YXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCArICdweCc7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQ7XG4gICAgfVxuICAgIHJlc2l6ZUNhbnZhcygpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGNhbnZhcyk7XG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoKTtcblxuICAgIHJlbmRlcmVyLmluaXRpYWxpemUoKTtcbiAgICBzY2VuZS5pbml0aWFsaXplKHJlbmRlcmVyLmdsLCByZW5kZXJlci5yZW5kZXJQcm9ncmFtKTtcblxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICAgICAgICBzY2VuZS5hbmltYXRlKERhdGUubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgICBzY2VuZS5vblVwZGF0ZShyZW5kZXJlci5nbCk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSk7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICB9XG4gICAgcmVuZGVyKCk7XG4zXG4gICAgbGV0IHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChyZXNpemVDYW52YXMsIDEwMCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHJlc2l6ZUNhbnZhcywgNTAwKTtcbiAgICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiR0xVdGlscyIsImNvbnN0cnVjdG9yIiwiR2V0V2ViR0wyQ29udGV4dCIsImNhbnZhcyIsImdldENvbnRleHQiLCJjb25zb2xlIiwibG9nIiwiYWxlcnQiLCJDcmVhdGVTdGF0aWNWYm8iLCJnbCIsImRhdGEiLCJ2Ym8iLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiQ3JlYXRlU3F1YXJlVmJvIiwiU1FVQVJFIiwiTGlua1Byb2dyYW0iLCJwcm9ncmFtIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJpbmZvIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1c2VQcm9ncmFtIiwiQXR0YWNoU2hhZGVyIiwic2hhZGVyU3RyIiwic2hhZGVyVHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJhdHRhY2hTaGFkZXIiLCJDcmVhdGVUZXh0dXJlIiwid2lkdGgiLCJoZWlnaHQiLCJpbnRlcm5hbEZvcm1hdCIsImZvcm1hdCIsInR5cGUiLCJ0ZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsInRleEltYWdlMkQiLCJDcmVhdGVSR0JUZXh0dXJlIiwiUkdCIiwiQ3JlYXRlUkdCVW5zaWduZWRCeXRlVGV4dHVyZSIsIlVOU0lHTkVEX0JZVEUiLCJDcmVhdGVSR0JGbG9hdFRleHR1cmUiLCJGTE9BVCIsIkNyZWF0ZVJHQlVuc2lnbmVkQnl0ZVRleHR1cmVzIiwibnVtIiwidGV4dHVyZXMiLCJpIiwicHVzaCIsIkNyZWF0ZVJHQkFVbnNpZ25lZEJ5dGVUZXh0dXJlIiwiUkdCQSIsIkNyZWF0ZVJHQkFVbnNpZ25lZEJ5dGVJbWFnZVRleHR1cmUiLCJpbWFnZSIsIkNyZWF0ZVJHQkFVbnNpZ25lZEJ5dGVUZXh0dXJlcyIsIkNyZWF0ZVJHQkFGbG9hdFRleHR1cmUiLCJSR0JBMTZGIiwiQ3JlYXRlUkdCQUZsb2F0VGV4dHVyZXMiLCJSRU5ERVJfVkVSVEVYIiwiUkVOREVSX0ZSQUdNRU5UIiwiUmVuZGVyZXIiLCJ1bmlMb2NhdGlvbnMiLCJ0aGlzIiwiaXNSZW5kZXJpbmciLCJpbml0aWFsaXplIiwidmVydGV4QnVmZmVyIiwicmVuZGVyUHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIiwicmVuZGVyVkF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJpbml0aWFsaXplVW5pb3JtTG9jYXRpb25zIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwic2V0VW5pZm9ybVZhbHVlcyIsInVuaWZvcm0yZiIsInJlbmRlciIsInNjZW5lIiwidmlld3BvcnQiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFX1NUUklQIiwiZmx1c2giLCJDYW1lcmFUZXh0dXJlIiwidmlkZW8iLCJpc1BsYXlpbmdWaWRlbyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlzUGxheWluZyIsImNvbm5lY3RUb0NhbWVyYSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImF1ZGlvIiwidGhlbiIsImxvY2FsTWVkaWFTdHJlYW0iLCJzcmNPYmplY3QiLCJjYW5wbGF5TGlzdGVuZXIiLCJwbGF5IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlcnJvciIsInVwZGF0ZVRleHR1cmUiLCJWZWMyIiwieCIsInkiLCJhZGQiLCJ2Iiwic3ViIiwicHJvZCIsImRpdiIsInNjYWxlIiwiayIsImxlbmd0aCIsIk1hdGgiLCJzcXJ0IiwibGVuZ3RoU3EiLCJub3JtYWxpemUiLCJlcSIsImFicyIsIkVQU0lMT04iLCJjbG9uZURlZXBseSIsImRvdCIsInYxIiwidjIiLCJkaXN0YW5jZSIsImwiLCJnZXRVbmlmb3JtQXJyYXkiLCJ4eCIsInl5IiwieHkiLCJ5eCIsIlZlYzMiLCJ6IiwiY3Jvc3MiLCJyb3RhdGVBcm91bmRYIiwicmFkaWFucyIsImNvc1JhZCIsImNvcyIsInNpblJhZCIsInNpbiIsInJvdGF0ZUFyb3VuZFkiLCJyb3RhdGVBcm91bmRaIiwiQ2lyY2xlIiwiY2VudGVyIiwiciIsImludmVydE9uUG9pbnQiLCJwIiwicjIiLCJkIiwibGVuU3EiLCJpbnZlcnRPbkNpcmNsZSIsImMiLCJjb2VmZlIiLCJwMSIsInAyIiwicDMiLCJmcm9tUG9pbnRzIiwiZ2V0SW50ZXJzZWN0aW9uIiwiYzEiLCJjMiIsImEiLCJhMiIsIkVycm9yIiwibnVtUiIsImIiLCJsQSIsImxCIiwibEMiLCJjb2VmQSIsImNvZWZCIiwiY29lZkMiLCJkZW5vbSIsIlN0ZXJlb1Byb2plY3RvciIsInByb2plY3QiLCJwb3MiLCJyZXZlcnNlUHJvamVjdCIsIkh5cGVyYm9saWNUZXNzZWxsYXRpb24iLCJpc2VjdDEiLCJpc2VjdDIiLCJjb3JuZXIiLCJiZW5kWCIsImJlbmRZIiwiY2lyY2xlMSIsImNpcmNsZTIiLCJjb21wdXRlIiwieFJvdGF0ZSIsInlSb3RhdGUiLCJjb21wdXRlQ2lyY2xlRnJvbVVwcGVyQW5kTG93ZXIiLCJhcHBseU1hdDMiLCJ0bXAiLCJ1cHBlciIsImxvd2VyIiwibSIsIlNjZW5lIiwiY2FtZXJhVGV4dHVyZSIsImh5cGVyYm9saWNUZXNzZWxsYXRpb24iLCJ0cmFuc2xhdGlvbiIsImFuaW1hdGUiLCJlbGFwc2VkVGltZU1pbGxpcyIsInQiLCJsaW1pdCIsIm9uVXBkYXRlIiwidW5pZm9ybTFmIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidW5pZm9ybTFpIiwidW5pZm9ybTNmIiwid2luZG93IiwicXVlcnlTZWxlY3RvciIsInJlc2l6ZUNhbnZhcyIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVuZGVyZXIiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVzaXplVGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==